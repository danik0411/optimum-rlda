# synthetic data

rm(list=ls(all=TRUE));

library("mvtnorm");

p_array = c(5 , 20 , 50 , 150);
mDist = c( 9, 5, 2, 0.75 );

n0 = 210 ; n1 = 140; n = n0 + n1;
r = n0 / n1 ;  	 # ratio of class0 samples to class1 samples

# generate the array with data, dim1 is features , dim2 sample size, dim3 is the Mahalonobis Distance
Data = array( list() , dim=c( length(p_array) , length(mDist) ) );

for ( pCounter in 1:length(p_array) ) {

p = p_array[pCounter];

sigma = array( 0.1 , dim=c( p , p ) );
diag( sigma ) = 1;

for ( mCounter in 1:length(mDist) ) {

dist = mDist[mCounter];

x0 = array( 1 , dim=c( p , 1 ) );     # rowMeans of something
x1 = -x0;      	 	      	     # rowMeans of something

temp = t ( x0 - x1 ) %*% solve( sigma ) %*% ( x0 - x1 );
a = sqrt ( dist / temp );	# mean value

meanVector = rep( a , p );
a0 = rmvnorm( n0 , mean = meanVector , sigma = sigma );
a1 = rmvnorm( n1 , mean = meanVector , sigma = sigma );

a0 = rbind( t(a0) , 0 );
a1 = rbind( t(a1) , 1 );

Data[[ pCounter , mCounter ]] = cbind( a0 , a1 );

}

}

save(list="Data" , file="test_synthData.RData");